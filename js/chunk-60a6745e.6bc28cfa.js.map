{"version":3,"sources":["webpack:///./src/views/user-follow/index.vue?e901","webpack:///./src/views/user-follow/index.vue?3e99","webpack:///./src/views/user-follow/components/follow-list.vue?8695","webpack:///src/views/user-follow/components/follow-list.vue","webpack:///./src/views/user-follow/components/follow-list.vue?32c6","webpack:///./src/views/user-follow/components/follow-list.vue","webpack:///src/views/user-follow/index.vue","webpack:///./src/views/user-follow/index.vue?0797","webpack:///./src/views/user-follow/index.vue","webpack:///./src/views/user-follow/components/follow-list.vue?334b"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","$event","$router","back","slot","model","value","callback","$$v","active","expression","userId","staticRenderFns","finished","onLoad","loading","_l","item","index","key","photo","push","name","params","id","_v","_s","trim","fans_count","$route","query","tab","$set","mutual_follow","components","FollowUser","props","followers","type","Boolean","default","data","list","page","perPage","computed","watch","created","mounted","methods","component","FollowList","Number","String","Object","required"],"mappings":"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","file":"js/chunk-60a6745e.6bc28cfa.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=7de46d72&scoped=true&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user-follow\"},[_c('van-nav-bar',{staticClass:\"page-navbar\",attrs:{\"left-arrow\":\"\"},on:{\"click-left\":function($event){return _vm.$router.back()}}},[_c('van-tabs',{attrs:{\"slot\":\"title\",\"background\":\"#3296fa\",\"color\":\"#fff\",\"title-inactive-color\":\"#fff\",\"title-active-color\":\"#fff\",\"border\":false},slot:\"title\",model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_c('van-tab',{attrs:{\"title\":\"关注\",\"to\":(\"/user/\" + _vm.userId + \"/follow\"),\"replace\":\"\"}},[_c('follow-list')],1),_c('van-tab',{attrs:{\"title\":\"粉丝\",\"to\":(\"/user/\" + _vm.userId + \"/follow?tab=followers\"),\"replace\":\"\"}},[_c('follow-list',{attrs:{\"followers\":\"\"}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"follow-list\"},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\"},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.list),function(item,index){return _c('van-cell',{key:index,staticClass:\"follow-item\"},[_c('van-image',{staticClass:\"avatar\",attrs:{\"slot\":\"icon\",\"round\":\"\",\"src\":item.photo,\"fit\":\"cover\"},on:{\"click\":function($event){return _vm.$router.push({\n          name: 'user',\n          params: {\n            userId: item.id\n          }\n        })}},slot:\"icon\"}),_c('div',{staticClass:\"title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(_vm._s(item.name.trim() || '黑马头条号'))]),_c('div',{staticClass:\"label\",attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\"粉丝数：\"+_vm._s(item.fans_count))]),(_vm.$route.query.tab !== 'followers')?_c('follow-user',{attrs:{\"user-id\":item.id},model:{value:(item.is_followed),callback:function ($$v) {_vm.$set(item, \"is_followed\", $$v)},expression:\"item.is_followed\"}},[(item.is_followed)?_c('span',[_vm._v(\" \"+_vm._s(item.mutual_follow ? '互相关注' : '已关注')+\" \")]):_c('span',[_vm._v(\"关注\")])]):_c('follow-user',{attrs:{\"user-id\":item.id},model:{value:(item.mutual_follow),callback:function ($$v) {_vm.$set(item, \"mutual_follow\", $$v)},expression:\"item.mutual_follow\"}},[_vm._v(\" \"+_vm._s(item.mutual_follow ? '互相关注' : '关注')+\" \")])],1)}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"follow-list\">\n    <van-list\n      v-model=\"loading\"\n      :finished=\"finished\"\n      finished-text=\"没有更多了\"\n      @load=\"onLoad\"\n    >\n      <van-cell class=\"follow-item\" v-for=\"(item, index) in list\" :key=\"index\">\n        <van-image\n          class=\"avatar\"\n          round\n          :src=\"item.photo\"\n          fit=\"cover\"\n          slot=\"icon\"\n          @click=\"$router.push({\n            name: 'user',\n            params: {\n              userId: item.id\n            }\n          })\"\n        />\n        <div class=\"title\" slot=\"title\">{{ item.name.trim() || '黑马头条号' }}</div>\n        <div class=\"label\" slot=\"label\">粉丝数：{{ item.fans_count }}</div>\n        <follow-user\n          v-if=\"$route.query.tab !== 'followers'\"\n          v-model=\"item.is_followed\"\n          :user-id=\"item.id\"\n        >\n          <span v-if=\"item.is_followed\">\n            {{ item.mutual_follow ? '互相关注' : '已关注' }}\n          </span>\n          <span v-else>关注</span>\n        </follow-user>\n        <follow-user\n          v-else\n          v-model=\"item.mutual_follow\"\n          :user-id=\"item.id\"\n        >\n          {{ item.mutual_follow ? '互相关注' : '关注' }}\n        </follow-user>\n      </van-cell>\n    </van-list>\n  </div>\n</template>\n\n<script>\nimport { getFollowingsByUser, getFollowersByUser } from '@/api/user'\nimport FollowUser from '@/components/follow-user'\n\nexport default {\n  name: 'FollowList',\n  components: {\n    FollowUser\n  },\n  props: {\n    // 默认获取用户关注列表，如果需要获取粉丝列表则指定 followers 为 true\n    followers: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data () {\n    return {\n      list: [],\n      loading: false,\n      finished: false,\n      page: 1,\n      perPage: 20\n    }\n  },\n  computed: {},\n  watch: {},\n  created () {},\n  mounted () {},\n  methods: {\n    async onLoad () {\n      try {\n        const params = [\n          this.$route.params.userId,\n          {\n            page: this.page,\n            perPage: this.perPage\n          }\n        ]\n\n        const { data } = await (this.followers\n          ? getFollowersByUser(...params)\n          : getFollowingsByUser(...params))\n\n        const { results } = data.data\n        results.forEach(item => {\n          item.is_followed = true\n        })\n        this.list.push(...results)\n\n        this.loading = false\n\n        if (results.length) {\n          this.page++\n        } else {\n          this.finished = true\n        }\n      } catch (err) {\n        this.$toast('数据获取失败')\n      }\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n.follow-list {\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 46px;\n  bottom: 0;\n  overflow-y: auto;\n}\n\n.follow-item {\n  align-items: center;\n  .avatar {\n    width: 50px;\n    height: 50px;\n    margin-right: 13px;\n  }\n  .title {\n    font-size: 14px;\n  }\n  .label {\n    font-size: 12px;\n    color: #999999;\n  }\n  .van-cell__title {\n    display: flex;\n    flex-direction: column;\n    align-items: baseline;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./follow-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./follow-list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./follow-list.vue?vue&type=template&id=abd8f536&scoped=true&\"\nimport script from \"./follow-list.vue?vue&type=script&lang=js&\"\nexport * from \"./follow-list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./follow-list.vue?vue&type=style&index=0&id=abd8f536&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"abd8f536\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"user-follow\">\n    <van-nav-bar\n      class=\"page-navbar\"\n      left-arrow\n      @click-left=\"$router.back()\"\n    >\n      <van-tabs\n        v-model=\"active\"\n        slot=\"title\"\n        background=\"#3296fa\"\n        color=\"#fff\"\n        title-inactive-color=\"#fff\"\n        title-active-color=\"#fff\"\n        :border=\"false\"\n      >\n        <van-tab title=\"关注\" :to=\"`/user/${userId}/follow`\" replace>\n          <follow-list />\n        </van-tab>\n        <van-tab title=\"粉丝\" :to=\"`/user/${userId}/follow?tab=followers`\" replace>\n          <follow-list followers />\n        </van-tab>\n      </van-tabs>\n    </van-nav-bar>\n  </div>\n</template>\n\n<script>\nimport FollowList from './components/follow-list'\n\nexport default {\n  name: 'UserFollow',\n  components: {\n    FollowList\n  },\n  props: {\n    userId: {\n      type: [Number, String, Object],\n      required: true\n    }\n  },\n  data () {\n    return {\n      active: this.$route.query.tab === 'followers' ? 1 : 0\n    }\n  },\n  computed: {},\n  watch: {},\n  created () {},\n  mounted () {},\n  methods: {}\n}\n</script>\n\n<style scoped lang=\"less\">\n.list-item {\n  align-items: center;\n  .avatar {\n    width: 50px;\n    height: 50px;\n    margin-right: 13px;\n  }\n  .title {\n    font-size: 14px;\n  }\n  .label {\n    font-size: 12px;\n    color: #999999;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=7de46d72&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=7de46d72&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7de46d72\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./follow-list.vue?vue&type=style&index=0&id=abd8f536&scoped=true&lang=less&\""],"sourceRoot":""}