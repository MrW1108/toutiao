(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23f1b906"],{"00b4":function(e,t,n){"use strict";n("ac1f");var r=n("23e7"),a=n("da84"),o=n("c65b"),c=n("e330"),s=n("1626"),u=n("861d"),i=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),l=a.Error,f=c(/./.test);r({target:"RegExp",proto:!0,forced:!i},{test:function(e){var t=this.exec;if(!s(t))return f(this,e);var n=o(t,this,e);if(null!==n&&!u(n))throw new l("RegExp exec method returned something other than an Object or null");return!!n}})},"0cb2":function(e,t,n){var r=n("e330"),a=n("7b0b"),o=Math.floor,c=r("".charAt),s=r("".replace),u=r("".slice),i=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,f,d){var p=n+e.length,v=r.length,g=l;return void 0!==f&&(f=a(f),g=i),s(d,g,(function(a,s){var i;switch(c(s,0)){case"$":return"$";case"&":return e;case"`":return u(t,0,n);case"'":return u(t,p);case"<":i=f[u(s,1,-1)];break;default:var l=+s;if(0===l)return a;if(l>v){var d=o(l/10);return 0===d?a:d<=v?void 0===r[d-1]?c(s,1):r[d-1]+c(s,1):a}i=r[l-1]}return void 0===i?"":i}))}},"107c":function(e,t,n){var r=n("d039"),a=n("da84"),o=a.RegExp;e.exports=r((function(){var e=o("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},"14c3":function(e,t,n){var r=n("da84"),a=n("c65b"),o=n("825a"),c=n("1626"),s=n("c6b6"),u=n("9263"),i=r.TypeError;e.exports=function(e,t){var n=e.exec;if(c(n)){var r=a(n,e,t);return null!==r&&o(r),r}if("RegExp"===s(e))return a(u,e,t);throw i("RegExp#exec called on incompatible receiver")}},"25f0":function(e,t,n){"use strict";var r=n("e330"),a=n("5e77").PROPER,o=n("6eeb"),c=n("825a"),s=n("3a9b"),u=n("577e"),i=n("d039"),l=n("ad6d"),f="toString",d=RegExp.prototype,p=d[f],v=r(l),g=i((function(){return"/a/b"!=p.call({source:"a",flags:"b"})})),h=a&&p.name!=f;(g||h)&&o(RegExp.prototype,f,(function(){var e=c(this),t=u(e.source),n=e.flags,r=u(void 0===n&&s(d,e)&&!("flags"in d)?v(e):n);return"/"+t+"/"+r}),{unsafe:!0})},"26f3":function(e,t,n){"use strict";n("6ae6")},5319:function(e,t,n){"use strict";var r=n("2ba4"),a=n("c65b"),o=n("e330"),c=n("d784"),s=n("d039"),u=n("825a"),i=n("1626"),l=n("5926"),f=n("50c4"),d=n("577e"),p=n("1d80"),v=n("8aa5"),g=n("dc4a"),h=n("0cb2"),x=n("14c3"),b=n("b622"),m=b("replace"),$=Math.max,E=Math.min,w=o([].concat),O=o([].push),R=o("".indexOf),k=o("".slice),I=function(e){return void 0===e?e:String(e)},y=function(){return"$0"==="a".replace(/./,"$0")}(),j=function(){return!!/./[m]&&""===/./[m]("a","$0")}(),T=!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));c("replace",(function(e,t,n){var o=j?"$":"$0";return[function(e,n){var r=p(this),o=void 0==e?void 0:g(e,m);return o?a(o,e,r,n):a(t,d(r),e,n)},function(e,a){var c=u(this),s=d(e);if("string"==typeof a&&-1===R(a,o)&&-1===R(a,"$<")){var p=n(t,c,s,a);if(p.done)return p.value}var g=i(a);g||(a=d(a));var b=c.global;if(b){var m=c.unicode;c.lastIndex=0}var y=[];while(1){var j=x(c,s);if(null===j)break;if(O(y,j),!b)break;var T=d(j[0]);""===T&&(c.lastIndex=v(s,f(c.lastIndex),m))}for(var _="",S=0,P=0;P<y.length;P++){j=y[P];for(var C=d(j[0]),A=$(E(l(j.index),s.length),0),G=[],U=1;U<j.length;U++)O(G,I(j[U]));var M=j.groups;if(g){var D=w([C],G,A,s);void 0!==M&&O(D,M);var L=d(r(a,void 0,D))}else L=h(C,s,A,G,M,a);A>=S&&(_+=k(s,S,A)+L,S=A+C.length)}return _+k(s,S)}]}),!T||!y||j)},"6ae6":function(e,t,n){},"8aa5":function(e,t,n){"use strict";var r=n("6547").charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},9263:function(e,t,n){"use strict";var r=n("c65b"),a=n("e330"),o=n("577e"),c=n("ad6d"),s=n("9f7f"),u=n("5692"),i=n("7c73"),l=n("69f3").get,f=n("fce3"),d=n("107c"),p=u("native-string-replace",String.prototype.replace),v=RegExp.prototype.exec,g=v,h=a("".charAt),x=a("".indexOf),b=a("".replace),m=a("".slice),$=function(){var e=/a/,t=/b*/g;return r(v,e,"a"),r(v,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),E=s.UNSUPPORTED_Y||s.BROKEN_CARET,w=void 0!==/()??/.exec("")[1],O=$||w||E||f||d;O&&(g=function(e){var t,n,a,s,u,f,d,O=this,R=l(O),k=o(e),I=R.raw;if(I)return I.lastIndex=O.lastIndex,t=r(g,I,k),O.lastIndex=I.lastIndex,t;var y=R.groups,j=E&&O.sticky,T=r(c,O),_=O.source,S=0,P=k;if(j&&(T=b(T,"y",""),-1===x(T,"g")&&(T+="g"),P=m(k,O.lastIndex),O.lastIndex>0&&(!O.multiline||O.multiline&&"\n"!==h(k,O.lastIndex-1))&&(_="(?: "+_+")",P=" "+P,S++),n=new RegExp("^(?:"+_+")",T)),w&&(n=new RegExp("^"+_+"$(?!\\s)",T)),$&&(a=O.lastIndex),s=r(v,j?n:O,P),j?s?(s.input=m(s.input,S),s[0]=m(s[0],S),s.index=O.lastIndex,O.lastIndex+=s[0].length):O.lastIndex=0:$&&s&&(O.lastIndex=O.global?s.index+s[0].length:a),w&&s&&s.length>1&&r(p,s[0],n,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(s[u]=void 0)})),s&&y)for(s.groups=f=i(null),u=0;u<y.length;u++)d=y[u],f[d[0]]=s[d[1]];return s}),e.exports=g},"9ed6":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login"},[n("van-nav-bar",{staticClass:"page-navbar",attrs:{title:"注册/登录"}},[n("van-icon",{attrs:{slot:"left",name:"cross"},on:{click:function(t){return e.$router.back()}},slot:"left"})],1),n("van-field",{ref:"mobile",attrs:{type:"tel",maxlength:"11",placeholder:"请输入手机号"},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}},[n("van-icon",{attrs:{slot:"left-icon","class-prefix":"icon",name:"shouji"},slot:"left-icon"})],1),n("van-field",{ref:"code",attrs:{type:"tel",maxlength:"6",placeholder:"请输入验证码"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}},[n("van-icon",{attrs:{slot:"left-icon","class-prefix":"icon",name:"mima"},slot:"left-icon"}),n("van-button",{attrs:{slot:"button",size:"small",type:e.isSending?"default":"primary",disabled:e.isSending},slot:"button"},[e.isSending?n("van-count-down",{ref:"countDown",attrs:{time:6e4,format:"ss s","auto-start":!1},on:{finish:function(t){e.isSending=!1}}}):n("span",[e._v("获取验证码")])],1)],1),n("div",{staticClass:"login-btn-box"},[n("van-button",{attrs:{color:"#6db4fb",type:"info"},on:{click:e.onLogin}},[e._v("登录")])],1)],1)},a=[],o=n("1da1"),c=(n("96cf"),n("ac1f"),n("5319"),n("b0c0"),n("00b4"),n("c24f")),s={name:"LoginPage",components:{},props:{},data:function(){return{user:{name:"",password:""},isSending:!1}},computed:{},watch:{},created:function(){},methods:{onLogin:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checkMobile()&&e.checkCode()){t.next=2;break}return t.abrupt("return");case 2:return e.$toast.loading({duration:0,forbidClick:!0,message:"登录中..."}),t.prev=3,t.next=6,Object(c["h"])(e.user);case 6:n=t.sent,r=n.data,e.$store.commit("setUser",r.data.token),e.$toast.success("登录成功"),a=e.$route.query.redirect||"/",e.$router.replace(a),t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](3),console.log("登录失败",t.t0),e.$toast.fail("登录失败，手机号或验证码错误");case 18:case"end":return t.stop()}}),t,null,[[3,14]])})))()},checkMobile:function(){var e=this.user.name;return e?!!/^1[3578]\d{9}$/.test(e)||(this.$toast({message:"手机号码格式错误",position:"top"}),this.$refs.name.focus(),!1):(this.$toast({message:"手机号码不能为空",position:"top"}),this.$refs.name.focus(),!1)},checkCode:function(){var e=this.user.password;return e?!!/^\d{6}$/.test(e)||(this.$toast({message:"验证码格式错误",position:"top"}),this.$refs.password.focus(),!1):(this.$toast({message:"验证码不能为空",position:"top"}),this.$refs.password.focus(),!1)}}},u=s,i=(n("26f3"),n("2877")),l=Object(i["a"])(u,r,a,!1,null,"f7cc1f76",null);t["default"]=l.exports},"9f7f":function(e,t,n){var r=n("d039"),a=n("da84"),o=a.RegExp;t.UNSUPPORTED_Y=r((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},ac1f:function(e,t,n){"use strict";var r=n("23e7"),a=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},c24f:function(e,t,n){"use strict";n.d(t,"h",(function(){return a})),n.d(t,"g",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"i",(function(){return u})),n.d(t,"d",(function(){return i})),n.d(t,"j",(function(){return l})),n.d(t,"k",(function(){return f})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return v}));n("d3b7"),n("25f0");var r=n("b775");function a(e){return Object(r["a"])({method:"POST",url:"/example/user/login",data:e})}function o(){return Object(r["a"])({method:"GET",url:"/example/user/UserInfo"})}function c(){return Object(r["a"])({method:"GET",url:"/example/channel/channels"})}function s(e){return Object(r["a"])({method:"POST",url:"/app/v1_0/user/followings",data:{target:e}})}function u(e){return Object(r["a"])({method:"DELETE",url:"/app/v1_0/user/followings/".concat(e)})}function i(e){return Object(r["a"])({method:"GET",url:"/app/v1_0/user/profile"})}function l(e){return Object(r["a"])({method:"PATCH",url:"/app/v1_0/user/photo",data:e})}function f(e){return Object(r["a"])({method:"PATCH",url:"/app/v1_0/user/profile",data:e})}function d(e){return Object(r["a"])({method:"GET",url:"/app/v1_0/users/".concat(e)})}function p(e,t){return Object(r["a"])({method:"GET",url:"/app/v1_0/user/followings",params:t,data:{target:e.toString()}})}function v(e,t){return Object(r["a"])({method:"GET",url:"/app/v1_0/user/followers",params:t,data:{target:e.toString()}})}},d784:function(e,t,n){"use strict";n("ac1f");var r=n("e330"),a=n("6eeb"),o=n("9263"),c=n("d039"),s=n("b622"),u=n("9112"),i=s("species"),l=RegExp.prototype;e.exports=function(e,t,n,f){var d=s(e),p=!c((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),v=p&&!c((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[i]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return t=!0,null},n[d](""),!t}));if(!p||!v||n){var g=r(/./[d]),h=t(d,""[e],(function(e,t,n,a,c){var s=r(e),u=t.exec;return u===o||u===l.exec?p&&!c?{done:!0,value:g(t,n,a)}:{done:!0,value:s(n,t,a)}:{done:!1}}));a(String.prototype,e,h[0]),a(l,d,h[1])}f&&u(l[d],"sham",!0)}},fce3:function(e,t,n){var r=n("d039"),a=n("da84"),o=a.RegExp;e.exports=r((function(){var e=o(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))}}]);
//# sourceMappingURL=chunk-23f1b906.02e71a16.js.map